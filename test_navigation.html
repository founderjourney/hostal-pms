<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Test de NavegaciÃ³n - Almanik PMS</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .test-container { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .nav-buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        button { padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button.active { background: #27ae60; }
        .view { padding: 20px; background: #ecf0f1; border-radius: 5px; margin-top: 20px; }
        .hidden { display: none; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Test de NavegaciÃ³n - Almanik PMS</h1>

    <div class="test-container">
        <h2>Estado del Fix:</h2>
        <div class="status success">
            âœ… Variable 'event' no definida â†’ CORREGIDO<br>
            âœ… Selector de botÃ³n mejorado<br>
            âœ… ValidaciÃ³n de vista agregada
        </div>
    </div>

    <div class="test-container">
        <h2>NavegaciÃ³n:</h2>
        <div class="nav-buttons">
            <button onclick="showView('dashboard')">Dashboard</button>
            <button onclick="showView('beds')">Camas</button>
            <button onclick="showView('guests')">HuÃ©spedes</button>
            <button onclick="showView('pos')">Ventas</button>
            <button onclick="showView('staff')">Personal</button>
            <button onclick="showView('cash')">Caja</button>
            <button onclick="showView('reports')">Reportes</button>
            <button onclick="showView('tours')">Tours</button>
            <button onclick="showView('users')">Usuarios</button>
        </div>

        <div id="dashboard-view" class="view">
            <h3>ğŸ“Š Dashboard</h3>
            <p>Vista del tablero principal</p>
        </div>

        <div id="beds-view" class="view hidden">
            <h3>ğŸ›ï¸ GestiÃ³n de Camas</h3>
            <p>Vista de gestiÃ³n de camas</p>
        </div>

        <div id="guests-view" class="view hidden">
            <h3>ğŸ‘¥ GestiÃ³n de HuÃ©spedes</h3>
            <p>Vista de gestiÃ³n de huÃ©spedes</p>
        </div>

        <div id="pos-view" class="view hidden">
            <h3>ğŸ›’ Punto de Venta</h3>
            <p>Vista del sistema POS</p>
        </div>

        <div id="staff-view" class="view hidden">
            <h3>ğŸ‘¨â€ğŸ’¼ GestiÃ³n de Personal</h3>
            <p>Vista de gestiÃ³n de personal</p>
        </div>

        <div id="cash-view" class="view hidden">
            <h3>ğŸ’° Caja</h3>
            <p>Vista del sistema de caja</p>
        </div>

        <div id="reports-view" class="view hidden">
            <h3>ğŸ“ˆ Reportes</h3>
            <p>Vista de reportes y analytics</p>
        </div>

        <div id="tours-view" class="view hidden">
            <h3>ğŸš¶ Tours</h3>
            <p>Vista de gestiÃ³n de tours</p>
        </div>

        <div id="users-view" class="view hidden">
            <h3>ğŸ‘¤ Usuarios</h3>
            <p>Vista de gestiÃ³n de usuarios</p>
        </div>
    </div>

    <div class="test-container">
        <h2>Log de Pruebas:</h2>
        <div id="test-log" style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; font-family: monospace; min-height: 100px;">
            Esperando interacciÃ³n...
        </div>
    </div>

    <script>
        // FUNCIÃ“N CORREGIDA - Igual a la del sistema principal
        function showView(viewName) {
            const logEl = document.getElementById('test-log');

            try {
                // Log inicio
                log('ğŸ”„ showView(' + viewName + ') llamado');

                // Hide all views
                document.querySelectorAll('[id$="-view"]').forEach(view => {
                    view.classList.add('hidden');
                    log('  â– Ocultando: ' + view.id);
                });

                // Show selected view
                const targetView = document.getElementById(viewName + '-view');
                if (targetView) {
                    targetView.classList.remove('hidden');
                    log('  âœ… Mostrando: ' + targetView.id);
                } else {
                    log('  âŒ ERROR: Vista no encontrada: ' + viewName + '-view');
                    return;
                }

                // Update navigation buttons
                document.querySelectorAll('button').forEach(btn => {
                    btn.classList.remove('active');
                });

                // Find and activate the button that was clicked
                const clickedButton = document.querySelector(`button[onclick*="showView('${viewName}')"]`);
                if (clickedButton) {
                    clickedButton.classList.add('active');
                    log('  âœ… BotÃ³n activado correctamente');
                } else {
                    log('  âš ï¸  BotÃ³n no encontrado (no crÃ­tico)');
                }

                log('âœ… NavegaciÃ³n completada exitosamente\n');

            } catch (error) {
                log('âŒ ERROR: ' + error.message);
                console.error('Error en showView:', error);
            }
        }

        function log(message) {
            const logEl = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            logEl.textContent += `[${timestamp}] ${message}\n`;
            logEl.scrollTop = logEl.scrollHeight;
        }

        // Log inicial
        log('âœ… Sistema de navegaciÃ³n inicializado');
        log('âœ… 9 vistas cargadas correctamente');
        log('âœ… Listo para pruebas\n');
    </script>
</body>
</html>
