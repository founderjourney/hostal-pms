# ALMANIK PMS - AUDITORÍA COMPLETA
**Fecha:** Thu Nov 27 05:59:12 AM HST 2025
**Servidor:** http://localhost:3000

## 1. CORE SERVER ENDPOINTS (server-simple.js)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /health | ✅ 200 | Health check |
| GET | /api/dashboard | ✅ 200 | Dashboard data |
| GET | /api/guests | ✅ 200 | List guests |
| GET | /api/beds | ✅ 200 | List beds |
| GET | /api/beds/by-room | ✅ 200 | Beds by room |
| GET | /api/products | ✅ 200 | List products |
| GET | /api/tours | ✅ 200 | List tours |
| GET | /api/tours/stats | ✅ 200 | Tours stats |
| GET | /api/users | ✅ 200 | List users |
| GET | /api/roles | ✅ 200 | List roles |
| GET | /api/reports?start=2025-01-01&end=2025-12-31&type=overview | ✅ 200 | Reports (with date params) |
| GET | /api/reports/financial | ✅ 200 | Financial reports |
| GET | /api/reports/forecast | ✅ 200 | Forecast reports |
| GET | /api/reports/insights | ✅ 200 | Insights |
| GET | /api/metrics/performance | ✅ 200 | Performance metrics |
| GET | /api/metrics/queries | ✅ 200 | Query metrics |

## 2. RESERVATIONS MODULE (/api/reservations)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/reservations | ✅ 200 | List reservations |
| GET | /api/reservations/availability/check?bed_id=1&check_in=2025-12-27&check_out=2025-12-29 | ✅ 200 | Check availability |
| POST | /api/reservations | ❌ 409 | Create reservation |

## 3. ANALYTICS MODULE (/api/analytics)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/analytics/overview | ✅ 200 | Analytics overview |
| GET | /api/analytics/revenue | ✅ 200 | Revenue analytics |
| GET | /api/analytics/occupancy | ✅ 200 | Occupancy analytics |
| GET | /api/analytics/bookings | ✅ 200 | Bookings analytics |
| GET | /api/analytics/commissions | ✅ 200 | Commissions analytics |

## 4. ICAL SYNC MODULE (/api/ical)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/ical/sources | ✅ 200 | List iCal sources |
| GET | /api/ical/external-reservations | ✅ 200 | External reservations |

## 5. STAFF MODULE (/api/staff)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/staff | ✅ 200 | List staff |
| GET | /api/staff/stats | ✅ 200 | Staff stats |
| GET | /api/staff/attendance/today | ✅ 200 | Today attendance |
| GET | /api/staff/config/roles | ✅ 200 | Staff roles config |
| POST | /api/staff | ✅ 201 | Create staff |

## 6. TASKS MODULE (/api/tasks)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/tasks | ✅ 200 | List tasks |
| GET | /api/tasks/stats | ✅ 200 | Tasks stats |
| GET | /api/tasks/my?staff_id=1 | ✅ 200 | My tasks (with staff_id) |
| POST | /api/tasks | ✅ 201 | Create task |

## 7. CASHBOX MODULE (/api/cashbox)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/cashbox/sessions | ✅ 200 | List sessions |
| GET | /api/cashbox/sessions/current | ✅ 200 | Current session |
| GET | /api/cashbox/transactions | ✅ 200 | List transactions |
| GET | /api/cashbox/stats | ✅ 200 | Cashbox stats |
| GET | /api/cashbox/daily-report | ✅ 200 | Daily report |

---

## RESUMEN

| Métrica | Valor |
|---------|-------|
| Total Endpoints Probados | 40 |
| Exitosos | 39 |
| Fallidos | 1 |
| Tasa de Éxito | 97% |
