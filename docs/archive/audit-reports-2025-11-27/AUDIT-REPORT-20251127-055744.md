# ALMANIK PMS - AUDITORÍA COMPLETA
**Fecha:** Thu Nov 27 05:57:44 AM HST 2025
**Servidor:** http://localhost:3000

## 1. CORE SERVER ENDPOINTS (server-simple.js)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /health | ✅ 200 | Health check |
| GET | /api/dashboard | ✅ 200 | Dashboard data |
| GET | /api/guests | ❌ 429 | List guests |
| GET | /api/beds | ❌ 429 | List beds |
| GET | /api/beds/by-room | ❌ 429 | Beds by room |
| GET | /api/products | ❌ 429 | List products |
| GET | /api/tours | ❌ 429 | List tours |
| GET | /api/tours/stats | ❌ 429 | Tours stats |
| GET | /api/users | ❌ 429 | List users |
| GET | /api/roles | ❌ 429 | List roles |
| GET | /api/reports?start=2025-01-01&end=2025-12-31&type=overview | ❌ 429 | Reports (with date params) |
| GET | /api/reports/financial | ❌ 429 | Financial reports |
| GET | /api/reports/forecast | ❌ 429 | Forecast reports |
| GET | /api/reports/insights | ❌ 429 | Insights |
| GET | /api/metrics/performance | ❌ 429 | Performance metrics |
| GET | /api/metrics/queries | ❌ 429 | Query metrics |

## 2. RESERVATIONS MODULE (/api/reservations)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/reservations | ❌ 429 | List reservations |
| GET | /api/reservations/availability/check?bed_id=1&check_in=2025-12-27&check_out=2025-12-29 | ❌ 429 | Check availability |
| POST | /api/reservations | ❌ 429 | Create reservation |

## 3. ANALYTICS MODULE (/api/analytics)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/analytics/overview | ❌ 429 | Analytics overview |
| GET | /api/analytics/revenue | ❌ 429 | Revenue analytics |
| GET | /api/analytics/occupancy | ❌ 429 | Occupancy analytics |
| GET | /api/analytics/bookings | ❌ 429 | Bookings analytics |
| GET | /api/analytics/commissions | ❌ 429 | Commissions analytics |

## 4. ICAL SYNC MODULE (/api/ical)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/ical/sources | ❌ 429 | List iCal sources |
| GET | /api/ical/external-reservations | ❌ 429 | External reservations |

## 5. STAFF MODULE (/api/staff)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/staff | ❌ 429 | List staff |
| GET | /api/staff/stats | ❌ 429 | Staff stats |
| GET | /api/staff/attendance/today | ❌ 429 | Today attendance |
| GET | /api/staff/config/roles | ❌ 429 | Staff roles config |
| POST | /api/staff | ❌ 429 | Create staff |

## 6. TASKS MODULE (/api/tasks)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/tasks | ❌ 429 | List tasks |
| GET | /api/tasks/stats | ❌ 429 | Tasks stats |
| GET | /api/tasks/my?staff_id=1 | ❌ 429 | My tasks (with staff_id) |
| POST | /api/tasks | ❌ 429 | Create task |

## 7. CASHBOX MODULE (/api/cashbox)

| Method | Endpoint | Status | Description |
|--------|----------|--------|-------------|
| GET | /api/cashbox/sessions | ❌ 429 | List sessions |
| GET | /api/cashbox/sessions/current | ❌ 429 | Current session |
| GET | /api/cashbox/transactions | ❌ 429 | List transactions |
| GET | /api/cashbox/stats | ❌ 429 | Cashbox stats |
| GET | /api/cashbox/daily-report | ❌ 429 | Daily report |

---

## RESUMEN

| Métrica | Valor |
|---------|-------|
| Total Endpoints Probados | 40 |
| Exitosos | 2 |
| Fallidos | 38 |
| Tasa de Éxito | 5% |
