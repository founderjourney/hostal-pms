# =====================================================
# ALMANIK PMS - CONFIGURACIÓN DE ENTORNO
# =====================================================
# Copia este archivo a .env y llena los valores
#
# PARA PRODUCCIÓN (Vercel + Neon):
# - Configura estas variables en Vercel Dashboard
# - NO subas el archivo .env a git
# =====================================================

# =====================================================
# BASE DE DATOS
# =====================================================

# Producción (PostgreSQL via Neon)
# Obtén el string de conexión en: https://neon.tech
DATABASE_URL=postgresql://user:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require

# Desarrollo (SQLite - se crea automáticamente)
# No necesita configuración

# =====================================================
# SEGURIDAD - ¡IMPORTANTE!
# =====================================================

# Contraseña del administrador
# Mínimo 12 caracteres, incluye mayúsculas, números y símbolos
ADMIN_PASSWORD=CambiaEsto123!

# Contraseña del usuario recepción
RECEPTION_PASSWORD=CambiaEsto456!

# Secreto de sesión (para encriptar tokens)
# Genera uno seguro con:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=genera-un-string-aleatorio-muy-largo-aqui

# =====================================================
# SERVIDOR
# =====================================================

# Puerto del servidor (Vercel lo ignora)
PORT=3000

# Entorno: development | production
NODE_ENV=development

# Orígenes permitidos para CORS (separados por coma)
# En producción, pon tu dominio de Vercel
ALLOWED_ORIGINS=http://localhost:3000,https://tu-app.vercel.app

# =====================================================
# MONITOREO (Opcional)
# =====================================================

# Sentry para tracking de errores (opcional)
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# =====================================================
# STRIPE - PAGOS CON TARJETA (DEV1-01)
# =====================================================

# Stripe API Keys
# Obtener en: https://dashboard.stripe.com/apikeys
# Usar sk_test_... y pk_test_... para desarrollo
# Usar sk_live_... y pk_live_... para producción
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...

# Stripe Webhook Secret
# Obtener al crear webhook en: https://dashboard.stripe.com/webhooks
# Para desarrollo local, usar Stripe CLI: stripe listen --forward-to localhost:3000/api/payments/webhook
STRIPE_WEBHOOK_SECRET=whsec_...

# =====================================================
# SENDGRID - EMAILS (DEV1-05)
# =====================================================

# SendGrid API Key
# Obtener en: https://app.sendgrid.com/settings/api_keys
# Crear una API key con permisos "Mail Send"
SENDGRID_API_KEY=SG....

# Email de origen (debe estar verificado en SendGrid)
# Verificar en: https://app.sendgrid.com/settings/sender_auth
EMAIL_FROM=reservas@tuhotel.com

# Nombre del remitente (opcional)
EMAIL_FROM_NAME=Almanik PMS

# Email de respuesta (opcional, default: EMAIL_FROM)
EMAIL_REPLY_TO=soporte@tuhotel.com

# =====================================================
# AWS S3 - BACKUPS (DEV3-01)
# =====================================================

# Credenciales de AWS IAM
# Crear usuario IAM con permisos S3 en: https://console.aws.amazon.com/iam
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=tu-secret-key

# Nombre del bucket S3 para backups
# Crear bucket en: https://s3.console.aws.amazon.com
AWS_BUCKET_NAME=almanik-pms-backups

# Región AWS (ej: us-east-1, sa-east-1 para Sudamérica)
AWS_REGION=us-east-1

# =====================================================
# PUSH NOTIFICATIONS - VAPID KEYS (DEV2-03)
# =====================================================

# Generar keys con: npx web-push generate-vapid-keys
# IMPORTANTE: Una vez generadas, NO cambiar o las suscripciones existentes fallarán

VAPID_PUBLIC_KEY=BEl...tu-clave-publica-aqui
VAPID_PRIVATE_KEY=tu-clave-privada-aqui
VAPID_SUBJECT=mailto:admin@almanik.com

# =====================================================
# WHATSAPP - EVOLUTION API (DEV4-04, DEV4-07)
# =====================================================

# URL de tu instancia Evolution API
# Puede ser self-hosted o usar un servicio como evolution-api.com
EVOLUTION_API_URL=https://tu-evolution-api.com

# API Key global de Evolution (se configura en el panel de Evolution)
EVOLUTION_API_KEY=tu-api-key-aqui

# Nombre de la instancia de WhatsApp (default: almanik)
EVOLUTION_INSTANCE=almanik

# =====================================================
# WHATSAPP BOT - CONFIGURACIÓN (DEV4-07)
# =====================================================

# Nombre del hostal (se muestra en mensajes del bot)
HOSTAL_NAME=Almanik Hostel

# Datos de WiFi para huéspedes
WIFI_NETWORK=Almanik-Guest
WIFI_PASSWORD=AlmanikGuest2024

# Teléfono de recepción (para opción "hablar con recepción")
RECEPTION_PHONE=+573001234567

# Dirección del hostal
HOSTAL_ADDRESS=Calle Principal #123, Ciudad

# =====================================================
# CHECKLIST PARA PRODUCCIÓN
# =====================================================
# [ ] Cambiar ADMIN_PASSWORD por una contraseña segura
# [ ] Cambiar RECEPTION_PASSWORD por una contraseña segura
# [ ] Generar SESSION_SECRET único
# [ ] Configurar DATABASE_URL de Neon
# [ ] Cambiar NODE_ENV a production
# [ ] Agregar dominio a ALLOWED_ORIGINS
# [ ] Configurar STRIPE_SECRET_KEY con sk_live_...
# [ ] Configurar STRIPE_PUBLISHABLE_KEY con pk_live_...
# [ ] Crear webhook en Stripe y configurar STRIPE_WEBHOOK_SECRET
# [ ] NO subir .env a git (ya está en .gitignore)
